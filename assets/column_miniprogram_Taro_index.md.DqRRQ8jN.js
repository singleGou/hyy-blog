import{_ as a,c as i,o as p,ag as n}from"./chunks/framework.CLzmwTRU.js";const t="/hyy-blog/assets/01.DQ7H9fTN.png",k=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"column/miniprogram/Taro/index.md","filePath":"column/miniprogram/Taro/index.md"}'),e={name:"column/miniprogram/Taro/index.md"};function l(o,s,h,d,r,c){return p(),i("div",null,s[0]||(s[0]=[n(`<p>全局安装 Taro CLI（这里使用 pnpm）：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @tarojs/cli</span></span></code></pre></div><p>pnpm approve builds</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --location</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ignore-scripts</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span></code></pre></div><p>初始化，交互选择：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>taro init</span></span></code></pre></div><p>在使用 Taro 创建新项目时，系统会提示是否需要将代码编译为 <strong>ES5</strong>。这个选项的选择取决于项目的兼容性需求和性能要求。</p><p>示例</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 是否需要编译为 ES5 (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">默认否</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">y/N</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>选择“是”的场景</p><p>如果你的项目需要兼容较老版本的浏览器（如 Android 4.4 或 iOS 9 以下），建议选择“是”。编译为 ES5 会将代码转换为更低版本的 JavaScript，从而提高兼容性。</p><p><strong>示例配置：</strong> 在 <em>package.json</em> 中添加以下 <em>browserslist</em> 配置：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&quot;browserslist&quot;: {</span></span>
<span class="line"><span> &quot;production&quot;: [</span></span>
<span class="line"><span>   &quot;last 3 versions&quot;,</span></span>
<span class="line"><span>   &quot;Android &gt;= 4.1&quot;,</span></span>
<span class="line"><span>   &quot;ios &gt;= 8&quot;</span></span>
<span class="line"><span> ]</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>选择“否”的场景</p><p>如果你的项目目标环境支持现代浏览器（如 Chrome、Safari、Edge 等），可以选择“否”。这样可以减少打包体积并提升编译效率。</p><p><strong>默认配置：</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&quot;browserslist&quot;: [</span></span>
<span class="line"><span> &quot;defaults and fully supports es6-module&quot;,</span></span>
<span class="line"><span> &quot;maintained node versions&quot;</span></span>
<span class="line"><span>]</span></span></code></pre></div><p>注意事项</p><p><strong>性能影响</strong>：编译为 ES5 会增加打包时间和产物体积，因此仅在必要时启用。</p><p><strong>H5 开发</strong>：如果使用 H5 模式且目标设备支持现代浏览器，建议关闭 ES5 编译以优化性能。</p><p>根据项目需求合理选择，确保兼顾兼容性和性能。</p><p>一定要选择使用 Webpack5 打包，我已经踩坑了，如果使用 Vite 打包 weapp 无法渲染，懒得管是什么原因，如果非要用我也拉不住自行解决即可</p><p><img src="`+t+'" alt=""></p>',23)]))}const u=a(e,[["render",l]]);export{k as __pageData,u as default};
